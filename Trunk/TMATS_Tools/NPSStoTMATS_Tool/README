
These files are licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
---------------------------------------------------------------------------
NPSS to T-MATS automation code. This tool was created using matlab 
version R2015aSP1 and NPSS version 2.7.1.
---------------------------------------------------------------------------
Running this tool requires the following files:

1) mapplot_matlab.fnc - NPSS map gathering script, this script gathers the 
component maps and places them in matlab readable format

2) BlockTransMTLB_TMATS.fnc - NPSS T-MATS input gathering script, this script 
gathers NPSS variables to be used in T-MATS and places them in a .m script

3) AutoLink_TMATS.m - Simulink model generation script, this script generates 
a simulink model from the data generated by BlockTransMTLB_TMATS.fnc

Using this tool:
1) Obtain NPSS model to be translated to T-MATS.

2) Place both .fnc files so that the NPSS run can find them. In the same 
folder as the .run file works. 

3) Create the folder "Setup_TMATS" in your main NPSS model folder (same folder as the .run file). 
Outputs will be placed in this folder.

4) Add the following code to the .run file:

/* Add in matlab component map */
#include "mapplot_matlab.fnc"
createMapDataFiles_matlab();

/* Gather T-MATS required inputs and linking data */
#include "BlockTransMTLB_TMATS.fnc"
DataFilesMTLB();

5) Run the NPSS model using the its .run script at the model's design point.
This will generate files within the Setup_TMATS folder that include a .m 
file for each component map and a .m file for the model call "NameOfModel_Setup.m"

6) Run the matlab model setup script to create a workspace variable named
"MWS_NameOfModel".

7) To generate the Simulink model run "AutoLink_TMATS.m", calling 
the new workspace variable, for example:  "AutoLink_TMATS(MWS_NameOfModel)"

8) The simulink model should now be generated. Note, this model should be manually
checked for consistancy and a full block by block validation should occur. 
The auto generator will not populate custom blocks and makes many assumptions
about NPSS block inputs. If the NPSS model is not consistant with these assumptions
or the NPSS model has custom components with no T-MATS equivalant, then these portions 
of the model will need to be created manually.

This tool creates model components but does not apply a solver or other required
model architecture needed for the final dynamic or steady state model. 
For details about how the model may be finalized, please see TMATS/TMATS_Examples.

